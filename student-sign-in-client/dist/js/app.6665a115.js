(function(){"use strict";var t={5181:function(t,e,n){var r=n(144),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("new-student-form",{on:{"student-added":t.newStudentAdded}}),e("student-table",{attrs:{students:t.students},on:{"student-arrived-or-left":t.studentArrivedOrLeft,"delete-student":t.studentDeleted}}),e("student-message",{attrs:{student:t.mostRecentStudent}})],1)},a=[],d=function(){var t=this,e=t._self._c;return e("div",[t.errors.length>0?e("div",{staticClass:"alert alert-danger"},t._l(t.errors,(function(n){return e("li",{key:n},[t._v(t._s(n))])})),0):t._e(),e("div",{staticClass:"card add-student m-2 p-2"},[e("h4",{staticClass:"card-title"},[t._v("Add new student")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newStudentName,expression:"newStudentName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"name"},domProps:{value:t.newStudentName},on:{input:function(e){e.target.composing||(t.newStudentName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"starID"}},[t._v("Star ID")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newStarID,expression:"newStarID",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"starID"},domProps:{value:t.newStarID},on:{input:function(e){e.target.composing||(t.newStarID=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e("button",{staticClass:"btn btn-primary",on:{click:t.addStudent}},[t._v("Add")])])])},i=[],u=(n(7658),{name:"NewStudentForm",emits:["student-added"],data(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent(){if(this.errors=[],this.newStudentName||this.errors.push("Student name is required"),this.newStarID||this.errors.push("StarID is required"),0==this.errors.length){let t={name:this.newStudentName,starID:this.newStarID,present:!1};this.$emit("student-added",t),this.newStudentName="",this.newStarID=""}}}}),l=u,o=n(1001),c=(0,o.Z)(l,d,i,!1,null,null,null),m=c.exports,h=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card student-list m-2 p-2"},[e("h4",{staticClass:"card-title"},[t._v("Student List")]),e("div",{staticClass:"edit-table-toggle form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editTable,expression:"editTable"}],staticClass:"form-check-input",attrs:{id:"edit-table",type:"checkbox"},domProps:{checked:Array.isArray(t.editTable)?t._i(t.editTable,null)>-1:t.editTable},on:{change:function(e){var n=t.editTable,r=e.target,s=!!r.checked;if(Array.isArray(n)){var a=null,d=t._i(n,a);r.checked?d<0&&(t.editTable=n.concat([a])):d>-1&&(t.editTable=n.slice(0,d).concat(n.slice(d+1)))}else t.editTable=s}}}),e("label",{staticClass:"form-check-label",attrs:{for:"edit-table"}},[t._v("Edit table?")])]),e("div",{attrs:{id:"student-table"}},[e("table",{staticClass:"table"},[e("tr",[e("th",[t._v("Name")]),e("th",[t._v("StarID")]),e("th",[t._v("Present?")]),e("th",{directives:[{name:"show",rawName:"v-show",value:t.editTable,expression:"editTable"}]},[t._v("Delete")])]),t._l(t.students,(function(n){return e("student-row",{key:n.starID,attrs:{student:n,edit:t.editTable},on:{"delete-student":t.deleteStudent,"student-arrived-or-left":t.arrivedOrLeft}})}))],2)])])])},p=[],v=function(){var t=this,e=t._self._c;return e("tr",{class:{present:t.student.present,absent:!t.student.present}},[e("td",[t._v(t._s(t.student.name))]),e("td",[t._v(t._s(t.student.starID))]),e("td",[e("input",{attrs:{type:"checkbox"},on:{change:function(e){return t.arrivedOrLeft(t.student,e.target.checked)}}})]),e("td",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}]},[e("img",{attrs:{src:n(1125)},on:{click:t.deleteStudent}})])])},f=[],A={name:"StudentRow",props:{student:Object,edit:Boolean},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(){confirm(`Delete ${this.student.name}?`)&&this.$emit("delete-student",this.student)}}},b=A,S=(0,o.Z)(b,v,f,!1,null,"d2b1988a",null),g=S.exports,w={name:"StudentTable",components:{StudentRow:g},emits:["student-present","delete-student"],data(){return{editTable:!1}},props:{students:Array},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(t){this.$emit("delete-student",t)}}},_=w,C=(0,o.Z)(_,h,p,!1,null,null,null),D=C.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.student.name,expression:"student.name"}]},[t.student.present?e("div",{staticClass:"alert alert-success"},[t._v(" Welcome, "+t._s(t.student.name)+" ! ")]):e("div",{staticClass:"alert alert-info"},[t._v(" Goodbye, "+t._s(t.student.name)+". see you later! ")])])])},k=[],N={name:"StudentMessage",props:{student:Object}},T=N,y=(0,o.Z)(T,O,k,!1,null,null,null),x=y.exports,B={name:"App",components:{NewStudentForm:m,StudentMessage:x,StudentTable:D},mounted(){this.updateStudents()},methods:{updateStudents(){this.$student_api.getAllStudents().then((t=>{this.students=t})).catch((()=>alert("unable to fetch student list")))},newStudentAdded(t){this.$student_api.addStudent(t).then((()=>{this.updateStudents()})).catch((t=>{let e=t.response.data.join(", ");alert("Error adding student.\n"+e)}))},studentArrivedOrLeft(t,e){t.present=e,this.$student_api.updateStudent(t).then((()=>{this.mostRecentStudent=t,this.updateStudents()})).catch((()=>alert("unable to update students ")))},studentDeleted(t){this.$student_api.deleteStudent(t.id).then((()=>{this.updateStudents(),this.mostRecentStudent={}})).catch((()=>alert("unable to delete students")))}}},I=B,$=(0,o.Z)(I,s,a,!1,null,null,null),R=$.exports,Z=n(6154);let E="/api/students";var j={getAllStudents(){return Z.Z.get(E).then((t=>t.data))},addStudent(t){return Z.Z.post(E,t).then((t=>t.data))},updateStudent(t){return Z.Z.patch(`${E}/${t.id}`,t).then((t=>t.data))},deleteStudent(t){return Z.Z["delete"](`${E}/${t}`).then((t=>t.data))}};let F=(0,r.createApp)(R);F.config.globalProperties.$student_api=j,F.mount("#app")},1125:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAApklEQVR4nOXQMQ4BURSF4T+htYRZBCV7mCinFDWNhD1QsoexD8NCaEmmJDEJzSuU99wbBfMnr3nJO1/yoC0tgBp4pVOnO7nqY8R7qm8DB/6+XeB7thZgFQCWFqAIAIUFGAWAoQXIAkBmATrA0zHeAF2MXRzAGaGTAzgqwN4BlAqwcQBrBZg7gJkCjB1ArgADB9BXgB7wEMbv6Y3UFLgZxq/ARB3/nd5G6fCJTgW3rQAAAABJRU5ErkJggg=="}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,a){if(!r){var d=1/0;for(o=0;o<t.length;o++){r=t[o][0],s=t[o][1],a=t[o][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||d>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(i=!1,a<d&&(d=a));if(i){t.splice(o--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[r,s,a]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,a,d=r[0],i=r[1],u=r[2],l=0;if(d.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(u)var o=u(n)}for(e&&e(r);l<d.length;l++)a=d[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(o)},r=self["webpackChunkstudent_sign_in"]=self["webpackChunkstudent_sign_in"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5181)}));r=n.O(r)})();
//# sourceMappingURL=app.6665a115.js.map